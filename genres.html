<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Genres</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <style>
    body {
      padding: 20px;
      position: relative;
    }

    .home-button {
      position: absolute;
      top: 10px;
      right: 10px;
    }

    .genre-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .genre-list {
      list-style: none;
      padding: 0;
    }

    .genre-item {
      display: flex;
      flex-direction: column; /* Updated */
      align-items: center;
      text-align: center;
      padding: 10px;
      border-bottom: 1px solid #ccc;
      overflow-x: auto;
      overflow-y: hidden;
    }

    .genre-item::-webkit-scrollbar {
      height: 8px;
    }

    .genre-item::-webkit-scrollbar-track {
      background: #f1f1f1;
    }

    .genre-item::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 10px;
    }

    .genre-item::-webkit-scrollbar-thumb:hover {
      background: #555;
    }

    .genre-item img {
      max-width: 100px;
      margin-bottom: 10px; /* Added */
    }

    .books {
      display: flex;
      flex-wrap: nowrap;
    }

    .book-card {
      width: 250px;
      height: 6;
      margin-right: 10px;
    }
  </style>
</head>

<body>
  <a href="#" class="home-button btn btn-primary">Home</a>
  <main>
    <section class="genre-section">
      <h2>Genres</h2>
      <div class="container">
        <ul class="genre-list">
          <li class="genre-item">
            <img src="https://visualpharm.com/assets/49/Action-595b40b75ba036ed117d6e13.svg" alt="Genre Cover Image">
            <span>Action</span>
            <div class="books"></div>
          </li>
          <li class="genre-item">
            <img src="https://visualpharm.com/assets/715/Playing-595b40b85ba036ed117dde1d.svg" alt="Genre Cover Image">
            <span>Adventure</span>
            <div class="books"></div>
          </li>
          <li class="genre-item">
            <img src="https://static.thenounproject.com/png/1848273-200.png" alt="Genre Cover Image">
            <span>Comedy</span>
            <div class="books"></div>
          </li>
          <li class="genre-item">
            <img src="https://e7.pngegg.com/pngimages/583/139/png-clipart-theatre-cinema-mask-computer-icons-theater-face-logo.png" alt="Genre Cover Image">
            <span>Drama</span>
            <div class="books"></div>
          </li>
          <li class="genre-item">
            <img src="https://static.thenounproject.com/png/2061797-200.png" alt="Genre Cover Image">
            <span>Fantasy</span>
            <div class="books"></div>
          </li>
        </ul>
      </div>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    document.querySelector('.home-button').addEventListener('click', function() {
      window.location.href = 'index.html';
    });

    document.addEventListener('DOMContentLoaded', function() {
      const genreItems = document.querySelectorAll('.genre-item');

      genreItems.forEach(function(item) {
        const genreName = item.querySelector('span').textContent;
        const bookContainer = item.querySelector('.books');

        axios.get('https://www.googleapis.com/books/v1/volumes?q=subject:' + genreName)
          .then(function(response) {
            const books = response.data.items;

            books.forEach(function(book) {
              const title = book.volumeInfo.title;
              const authors = book.volumeInfo.authors ? book.volumeInfo.authors.join(', ') : 'Unknown Author';
              const thumbnail = book.volumeInfo.imageLinks ? book.volumeInfo.imageLinks.thumbnail : 'https://via.placeholder.com/100';

              const bookElement = document.createElement('div');
              bookElement.classList.add('card', 'book-card');
              bookElement.innerHTML = `
                <img src="${thumbnail}" class="card-img-top" alt="Book Cover">
                <div class="card-body">
                  <h5 class="card-title">${title}</h5>
                  <p class="card-text">${authors}</p>
                </div>
              `;

              bookContainer.appendChild(bookElement);
            });
          })
          .catch(function(error) {
            console.log(error);
          });
      });
    });
  </script>
</body>

</html>
